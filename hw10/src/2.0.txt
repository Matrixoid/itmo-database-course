У нас будет сервис, который будет ходить в бд, за необходимыми данными.
Мы можем запросить у бд список свободных мест, и мы его отдадим.
Пользователь может выбрать место и забронировать, или купить его,
а наш сервис вызовет в бд нужную функцию, с нужным уровнем изоляции
и вернет результат.